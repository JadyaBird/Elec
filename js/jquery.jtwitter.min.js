/*
 * CUSTOM JTWITTER SUBSTITUTE
 */


/*
 * A JavaScript implementation of the Secure Hash Algorithm, SHA-1, as defined
 * in FIPS PUB 180-1
 * Version 2.1 Copyright Paul Johnston 2000 - 2002.
 * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet
 * Distributed under the BSD License
 * See http://pajhome.org.uk/crypt/md5 for details.
 */

function hex_sha1(e){return binb2hex(core_sha1(str2binb(e),e.length*chrsz))}function b64_sha1(e){return binb2b64(core_sha1(str2binb(e),e.length*chrsz))}function str_sha1(e){return binb2str(core_sha1(str2binb(e),e.length*chrsz))}function hex_hmac_sha1(e,t){return binb2hex(core_hmac_sha1(e,t))}function b64_hmac_sha1(e,t){return binb2b64(core_hmac_sha1(e,t))}function str_hmac_sha1(e,t){return binb2str(core_hmac_sha1(e,t))}function sha1_vm_test(){return hex_sha1("abc")=="a9993e364706816aba3e25717850c26c9cd0d89d"}function core_sha1(e,t){e[t>>5]|=128<<24-t%32;e[(t+64>>9<<4)+15]=t;var n=Array(80);var r=1732584193;var i=-271733879;var s=-1732584194;var o=271733878;var u=-1009589776;for(var a=0;a<e.length;a+=16){var f=r;var l=i;var c=s;var h=o;var p=u;for(var d=0;d<80;d++){if(d<16)n[d]=e[a+d];else n[d]=rol(n[d-3]^n[d-8]^n[d-14]^n[d-16],1);var v=safe_add(safe_add(rol(r,5),sha1_ft(d,i,s,o)),safe_add(safe_add(u,n[d]),sha1_kt(d)));u=o;o=s;s=rol(i,30);i=r;r=v}r=safe_add(r,f);i=safe_add(i,l);s=safe_add(s,c);o=safe_add(o,h);u=safe_add(u,p)}return Array(r,i,s,o,u)}function sha1_ft(e,t,n,r){if(e<20)return t&n|~t&r;if(e<40)return t^n^r;if(e<60)return t&n|t&r|n&r;return t^n^r}function sha1_kt(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);if(n.length>16)n=core_sha1(n,e.length*chrsz);var r=Array(16),i=Array(16);for(var s=0;s<16;s++){r[s]=n[s]^909522486;i[s]=n[s]^1549556828}var o=core_sha1(r.concat(str2binb(t)),512+t.length*chrsz);return core_sha1(i.concat(o),512+160)}function safe_add(e,t){var n=(e&65535)+(t&65535);var r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){var t=Array();var n=(1<<chrsz)-1;for(var r=0;r<e.length*chrsz;r+=chrsz)t[r>>5]|=(e.charCodeAt(r/chrsz)&n)<<24-r%32;return t}function binb2str(e){var t="";var n=(1<<chrsz)-1;for(var r=0;r<e.length*32;r+=chrsz)t+=String.fromCharCode(e[r>>5]>>>24-r%32&n);return t}function binb2hex(e){var t=hexcase?"0123456789ABCDEF":"0123456789abcdef";var n="";for(var r=0;r<e.length*4;r++){n+=t.charAt(e[r>>2]>>(3-r%4)*8+4&15)+t.charAt(e[r>>2]>>(3-r%4)*8&15)}return n}function binb2b64(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var n="";for(var r=0;r<e.length*4;r+=3){var i=(e[r>>2]>>8*(3-r%4)&255)<<16|(e[r+1>>2]>>8*(3-(r+1)%4)&255)<<8|e[r+2>>2]>>8*(3-(r+2)%4)&255;for(var s=0;s<4;s++){if(r*8+s*6>e.length*32)n+=b64pad;else n+=t.charAt(i>>6*(3-s)&63)}}return n}var hexcase=0;var b64pad="";var chrsz=8

/**
 * A Twitter library in JavaScript
 *
 * @package codebird
 * @version 2.4.0-dev
 * @author J.M. <me@mynetx.net>
 * @copyright 2010-2013 J.M. <me@mynetx.net>
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

if(!Array.indexOf){Array.prototype.indexOf=function(e,t){for(var n=t||0;n<this.length;n++){if(this[n]==e){return n}}return-1}}var Codebird=function(){function parse_str(str,array){var glue1="=",glue2="&",array2=String(str).replace(/^&?([\s\S]*?)&?$/,"$1").split(glue2),i,j,chr,tmp,key,value,bracket,keys,evalStr,that=this,fixStr=function(e){return unescape(e).replace(/([\\"'])/g,"\\$1").replace(/\n/g,"\\n").replace(/\r/g,"\\r")};if(!array){array=this.window}for(i=0;i<array2.length;i++){tmp=array2[i].split(glue1);if(tmp.length<2){tmp=[tmp,""]}key=fixStr(tmp[0]);value=fixStr(tmp[1]);while(key.charAt(0)===" "){key=key.substr(1)}if(key.indexOf("\0")!==-1){key=key.substr(0,key.indexOf("\0"))}if(key&&key.charAt(0)!=="["){keys=[];bracket=0;for(j=0;j<key.length;j++){if(key.charAt(j)==="["&&!bracket){bracket=j+1}else if(key.charAt(j)==="]"){if(bracket){if(!keys.length){keys.push(key.substr(0,bracket-1))}keys.push(key.substr(bracket,j-bracket));bracket=0;if(key.charAt(j+1)!=="["){break}}}}if(!keys.length){keys=[key]}for(j=0;j<keys[0].length;j++){chr=keys[0].charAt(j);if(chr===" "||chr==="."||chr==="["){keys[0]=keys[0].substr(0,j)+"_"+keys[0].substr(j+1)}if(chr==="["){break}}evalStr="array";for(j=0;j<keys.length;j++){key=keys[j];if(key!==""&&key!==" "||j===0){key="'"+key+"'"}else{key=eval(evalStr+".push([]);")-1}evalStr+="["+key+"]";if(j!==keys.length-1&&eval("typeof "+evalStr)==="undefined"){eval(evalStr+" = [];")}}evalStr+=" = '"+value+"';\n";eval(evalStr)}}}var _oauth_consumer_key=null;var _oauth_consumer_secret=null;var _oauth_bearer_token=null;var _endpoint_base="https://api.twitter.com/";var _endpoint=_endpoint_base+"1.1/";var _endpoint_oauth=_endpoint_base;var _endpoint_proxy="https://api.jublo.net/codebird/";var _use_jsonp=typeof navigator!="undefined"&&typeof navigator.userAgent!="undefined"&&(navigator.userAgent.indexOf("Trident/4")>-1||navigator.userAgent.indexOf("Trident/5")>-1||navigator.userAgent.indexOf("MSIE 7.0")>-1);var _use_proxy=true;var _oauth_token=null;var _oauth_token_secret=null;var _version="2.4.0-dev";var setConsumerKey=function(e,t){_oauth_consumer_key=e;_oauth_consumer_secret=t};var setBearerToken=function(e){_oauth_bearer_token=e};var getVersion=function(){return _version};var setToken=function(e,t){_oauth_token=e;_oauth_token_secret=t};var setUseProxy=function(e){_use_proxy=!!e};var __call=function(e,t,n,r){if(typeof t=="undefined"){var t={}}if(typeof r=="undefined"){var r=false}if(typeof n!="function"&&typeof t=="function"){n=t;t={};if(typeof n=="bool"){r=n}}else if(typeof n=="undefined"){var n=function(e){}}switch(e){case"oauth_authenticate":case"oauth_authorize":return this[e](t,n);break;case"oauth2_token":return this[e](n)}var i={};if(typeof t=="object"){i=t}else{parse_str(t,i)}var s="";var o=e.split("_");for(var u=0;u<o.length;u++){if(u>0){s+="/"}s+=o[u]}var a=["screen_name"];for(u=0;u<a.length;u++){var f=a[u].toUpperCase();var l=f.split("_").join("/");s=s.split(l).join(f)}var c=s;var h=[];if(h=s.match(/[A-Z_]{2,}/)){for(var u=0;u<h.length;u++){var f=h[u];var p=f.toLowerCase();c=c.split(f).join(":"+p);if(typeof i[p]=="undefined"){for(j=0;j<26;j++){c=c.split(String.fromCharCode(65+j)).join("_"+String.fromCharCode(97+j))}console.warn('To call the templated method "'+c+'", specify the parameter value for "'+p+'".')}s=s.split(f).join(i[p]);delete i[p]}}for(u=0;u<26;u++){s=s.split(String.fromCharCode(65+u)).join("_"+String.fromCharCode(97+u));c=c.split(String.fromCharCode(65+u)).join("_"+String.fromCharCode(97+u))}var d=_detectMethod(c,i);var v=_detectMultipart(c);return _callApi(d,s,c,i,v,r,n)};var oauth_authenticate=function(e,t){if(typeof e.force_login=="undefined"){e.force_login=null}if(typeof e.screen_name=="undefined"){e.screen_name=null}if(_oauth_token==null){console.warn("To get the authenticate URL, the OAuth token must be set.")}var n=_endpoint_oauth+"oauth/authenticate?oauth_token="+_url(_oauth_token);if(e.force_login===true){n+="?force_login=1";if(e.screen_name!==null){n+="&screen_name="+e.screen_name}}t(n);return true};var oauth_authorize=function(e,t){if(typeof e.force_login=="undefined"){e.force_login=null}if(typeof e.screen_name=="undefined"){e.screen_name=null}if(_oauth_token==null){console.warn("To get the authorize URL, the OAuth token must be set.")}var n=_endpoint_oauth+"oauth/authorize?oauth_token="+_url(_oauth_token);if(e.force_login===true){n+="?force_login=1";if(e.screen_name!==null){n+="&screen_name="+e.screen_name}}t(n);return true};var oauth2_token=function(e){if(_oauth_consumer_key==null){console.warn("To obtain a bearer token, the consumer key must be set.")}if(typeof e=="undefined"){var e=function(e){}}var t="grant_type=client_credentials";var n=_endpoint_oauth+"oauth2/token";if(_use_proxy){n=n.replace(_endpoint_base,_endpoint_proxy)}var r;try{r=new XMLHttpRequest}catch(i){r=new ActiveXObject("Microsoft.XMLHTTP")}r.open("POST",n,true);r.setRequestHeader("Content-Type","application/x-www-form-urlencoded");r.setRequestHeader((_use_proxy?"X-":"")+"Authorization","Basic "+base64_encode(_oauth_consumer_key+":"+_oauth_consumer_secret));r.onreadystatechange=function(){if(r.readyState>=4){var t=12027;try{t=r.status}catch(n){}var i=_parseApiReply("oauth2/token",r.responseText);i.httpstatus=t;if(t==200){setBearerToken(i.access_token)}e(i)}};r.send(t)};var _url=function(e){if(typeof e=="array"){return array_map([this,"_url"],e)}else if(/boolean|number|string/.test(typeof e)){return encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A")}else{return""}};var _sha1=function(e){if(_oauth_consumer_secret==null){console.warn("To generate a hash, the consumer secret must be set.")}if(typeof b64_hmac_sha1!="function"){console.warn("To generate a hash, the Javascript SHA1.js must be available.")}b64pad="=";return b64_hmac_sha1(_oauth_consumer_secret+"&"+(_oauth_token_secret!=null?_oauth_token_secret:""),e)};var base64_encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var n,r,i,s,o,u,a,f,l=0,c=0,h="",p=[];if(!e){return e}do{n=e.charCodeAt(l++);r=e.charCodeAt(l++);i=e.charCodeAt(l++);f=n<<16|r<<8|i;s=f>>18&63;o=f>>12&63;u=f>>6&63;a=f&63;p[c++]=t.charAt(s)+t.charAt(o)+t.charAt(u)+t.charAt(a)}while(l<e.length);h=p.join("");var d=e.length%3;return(d?h.slice(0,d-3):h)+"===".slice(d||3)};var http_build_query=function(e,t,n){var r,i,s=[],o=http_build_query;var u=function(e,t,n){var r,i=[];if(t===true){t="1"}else if(t===false){t="0"}if(t!=null){if(typeof t==="object"){for(r in t){if(t[r]!=null){i.push(u(e+"["+r+"]",t[r],n))}}return i.join(n)}else if(typeof t!=="function"){return _url(e)+"="+_url(t)}else{throw new Error("There was an error processing for http_build_query().")}}else{return""}};if(!n){n="&"}for(i in e){r=e[i];if(t&&!isNaN(i)){i=String(t)+i}var a=u(i,r,n);if(a!=""){s.push(a)}}return s.join(n)};var _nonce=function(e){if(typeof e=="undefined"){var e=8}if(e<1){console.warn("Invalid nonce length.")}var t="";for(var n=0;n<e;n++){var r=Math.floor(Math.random()*61);t+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz".substring(r,r+1)}return t};var _ksort=function(e){var t={},n=[],r,i,s,o=this,u=false,a={};r=function(e,t){var n=parseFloat(e),r=parseFloat(t),i=n+""===e,s=r+""===t;if(i&&s){return n>r?1:n<r?-1:0}else if(i&&!s){return 1}else if(!i&&s){return-1}return e>t?1:e<t?-1:0};for(s in e){if(e.hasOwnProperty(s)){n.push(s)}}n.sort(r);return n};var _clone=function(e){var t={};for(var n in e){if(typeof e[n]=="object"){t[n]=t(e[n])}else{t[n]=e[n]}}return t};var _sign=function(e,t,n,r){if(typeof n=="undefined"){var n={}}if(typeof r=="undefined"){var r=false}if(_oauth_consumer_key==null){console.warn("To generate a signature, the consumer key must be set.")}var i={consumer_key:_oauth_consumer_key,version:"1.0",timestamp:Math.round((new Date).getTime()/1e3),nonce:_nonce(),signature_method:"HMAC-SHA1"};var s={};for(var o in i){var u=i[o];s["oauth_"+o]=_url(u)}if(_oauth_token!=null){s["oauth_token"]=_url(_oauth_token)}oauth_params=_clone(s);for(var o in n){var u=n[o];s[o]=_url(u)}var a=_ksort(s);var f="";for(var l=0;l<a.length;l++){var o=a[l];var u=s[o];f+=o+"="+u+"&"}f=f.substring(0,f.length-1);var c=_sha1(e+"&"+_url(t)+"&"+_url(f));n=r?s:oauth_params;n["oauth_signature"]=c;if(r){var h="";for(var o in n){var u=n[o];h+=o+"="+_url(u)+"&"}return h.substring(0,h.length-1)}var h="OAuth ";for(var o in n){var u=n[o];h+=o+'="'+_url(u)+'", '}return h.substring(0,h.length-2)};var _detectMethod=function(e,t){switch(e){case"account/settings":e=t.length?e+"__post":e;break}var n={};n["GET"]=["statuses/mentions_timeline","statuses/user_timeline","statuses/home_timeline","statuses/retweets_of_me","statuses/retweets/:id","statuses/show/:id","statuses/oembed","search/tweets","direct_messages","direct_messages/sent","direct_messages/show","friendships/no_retweets/ids","friends/ids","followers/ids","friendships/lookup","friendships/incoming","friendships/outgoing","friendships/show","friends/list","followers/list","account/settings","account/verify_credentials","blocks/list","blocks/ids","users/lookup","users/show","users/search","users/contributees","users/contributors","users/profile_banner","users/suggestions/:slug","users/suggestions","users/suggestions/:slug/members","favorites/list","lists/list","lists/statuses","lists/memberships","lists/subscribers","lists/subscribers/show","lists/members/show","lists/members","lists/show","lists/subscriptions","saved_searches/list","saved_searches/show/:id","geo/id/:place_id","geo/reverse_geocode","geo/search","geo/similar_places","trends/place","trends/available","trends/closest","oauth/authenticate","oauth/authorize","help/configuration","help/languages","help/privacy","help/tos","application/rate_limit_status"];n["POST"]=["statuses/destroy/:id","statuses/update","statuses/retweet/:id","statuses/update_with_media","direct_messages/destroy","direct_messages/new","friendships/create","friendships/destroy","friendships/update","account/settings__post","account/update_delivery_device","account/update_profile","account/update_profile_background_image","account/update_profile_colors","account/update_profile_image","blocks/create","blocks/destroy","account/update_profile_banner","account/remove_profile_banner","favorites/destroy","favorites/create","lists/members/destroy","lists/subscribers/create","lists/subscribers/destroy","lists/members/create_all","lists/members/create","lists/destroy","lists/update","lists/create","lists/members/destroy_all","saved_searches/create","saved_searches/destroy/:id","geo/place","users/report_spam","oauth/access_token","oauth/request_token","oauth2/token","oauth2/invalidate_token"];for(var r in n){if(n[r].indexOf(e)>-1){return r}}console.warn("Can't find HTTP method to use for \""+e+'".')};var _detectMultipart=function(e){var t=["statuses/update_with_media","account/update_profile_background_image","account/update_profile_image","account/update_profile_banner"];return t.indexOf(e)>-1};var _getEndpoint=function(e,t){if(e.substring(0,5)=="oauth"){var n=_endpoint_oauth+e}else{var n=_endpoint+e+".json"}return n};var _callApi=function(e,t,n,r,i,s,o){if(typeof r=="undefined"){var r={}}if(typeof i=="undefined"){var i=false}if(typeof s=="undefined"){var s=false}if(typeof o!="function"){var o=function(e){}}var u=_getEndpoint(t,n);var a=null;var f;try{f=new XMLHttpRequest}catch(l){f=new ActiveXObject("Microsoft.XMLHTTP")}if(e=="GET"){var c=u;if(JSON.stringify(r)!="{}"){c+="?"+http_build_query(r)}a=_sign(e,u,r);if(_use_jsonp){if(JSON.stringify(r)!="{}"){c+="&"}else{c+="?"}var h=_nonce();window[h]=function(e){e.httpstatus=200;o(e)};r.callback=h;c=u+"?"+_sign(e,u,r,true);var p=document.createElement("script");p.type="text/javascript";p.src=c;var d=document.getElementsByTagName("body")[0];d.appendChild(p);return}else if(_use_proxy){c=c.replace(_endpoint_base,_endpoint_proxy)}f.open(e,c,true)}else{if(_use_jsonp){console.warn("Sending POST requests is not supported for IE7-9.");return}a=_sign(e,u,{});if(!i){a=_sign(e,u,r);r=http_build_query(r)}post_fields=r;if(_use_proxy){u=u.replace(_endpoint_base,_endpoint_proxy)}f.open(e,u,true);if(i){f.setRequestHeader("Content-Type","multipart/form-data")}else{f.setRequestHeader("Content-Type","application/x-www-form-urlencoded")}}if(s){if(_oauth_consumer_key==null){console.warn("To make an app-only auth API request, the consumer key must be set.")}if(_oauth_bearer_token==null){return oauth2_token(function(u){_callApi(e,t,n,r,i,s,o)})}a="Bearer "+_oauth_bearer_token}if(a!==null){f.setRequestHeader((_use_proxy?"X-":"")+"Authorization",a)}f.onreadystatechange=function(){if(f.readyState>=4){var e=12027;try{e=f.status}catch(t){}var r=_parseApiReply(n,f.responseText);r.httpstatus=e;o(r)}};f.send(e=="GET"?null:post_fields);return true};var _parseApiReply=function(e,t){if(t=="[]"){return[]}var n=false;try{n=JSON.parse(t)}catch(r){n={};if(t.indexOf("<"+'?xml version="1.0" encoding="UTF-8"?'+">")===0){n["request"]=t.match(/<request>(.*)<\/request>/)[1];n["error"]=t.match(/<error>(.*)<\/error>/)[1]}else{var i=t.split("&");for(var s=0;s<i.length;s++){var o=i[s].split("=",2);if(o.length>1){n[o[0]]=unescape(o[1])}else{n[o[0]]=null}}}}return n};return{setConsumerKey:setConsumerKey,getVersion:getVersion,setToken:setToken,setBearerToken:setBearerToken,setUseProxy:setUseProxy,__call:__call,oauth_authenticate:oauth_authenticate,oauth_authorize:oauth_authorize,oauth2_token:oauth2_token}}

/*
 * CUSTOM CODE
 */

var jtinit = function(){
	var cb = new Codebird;
	cb.setConsumerKey('c8JbNGlvoI7NdspE9qKxA', 'vfKti1SyI9mtaOChOwAoIdfCAguJJxqhWfOsPyjPDc');
	cb.setToken('1514443212-7tJRGvyhwILZe3Va0PQhMVfFZK5kK4z14f3HkuV', '5U942Hw7dtxgha8E6eSX8ECzNOuHI9shohCTZ0JJE4');
	var bearer_token = null;
	
	cb.__call(
	    'oauth2_token',
	    {},
	    function (reply) {
	        bearer_token = reply.access_token;
	    }
	);
	
	$.extend({
		jTwitter : function(login, count, callback) {
			if($.isFunction(count)) {
				callback = count;
				count = 5
			}
			
			var init = function(){
				cb.__call(
				    'statuses/userTimeline', 
				    {count: count, screen_name: login},
				    function (reply) {
				        if($.isFunction(callback)) callback.call(this, reply);
				    },
				    true
				);
			};
			
			if(!bearer_token){
				setTimeout(function(){
					$.jTwitter(login, count, callback);
				}, 150);
			}
			else {
				init();
			}
		}
	});
};
jtinit();
jtinit = null;